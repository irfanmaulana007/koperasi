var handleSidebarMenu=function(){"use strict";$(".sidebar .nav > .has-sub > a").click(function(){var e=$(this).next(".sub-menu"),a=".sidebar .nav > li.has-sub > .sub-menu";0===$(".page-sidebar-minified").length&&($(a).not(e).slideUp(250,function(){$(this).closest("li").removeClass("expand")}),$(e).slideToggle(250,function(){var e=$(this).closest("li");$(e).hasClass("expand")?$(e).removeClass("expand"):$(e).addClass("expand")}))}),$(".sidebar .nav > .has-sub .sub-menu li.has-sub > a").click(function(){if(0===$(".page-sidebar-minified").length){var e=$(this).next(".sub-menu");$(e).slideToggle(250)}})},handleMobileSidebarToggle=function(){var e=!1;$(".sidebar").on("click touchstart",function(a){0!==$(a.target).closest(".sidebar").length?e=!0:(e=!1,a.stopPropagation())}),$(document).on("click touchstart",function(a){0===$(a.target).closest(".sidebar").length&&(e=!1),a.isPropagationStopped()||e===!0||($("#page-container").hasClass("page-sidebar-toggled")&&(e=!0,$("#page-container").removeClass("page-sidebar-toggled")),$("#page-container").hasClass("page-right-sidebar-toggled")&&(e=!0,$("#page-container").removeClass("page-right-sidebar-toggled")))}),$("[data-click=right-sidebar-toggled]").click(function(a){a.stopPropagation();var i="#page-container",r="page-right-sidebar-collapsed";r=$(window).width()<979?"page-right-sidebar-toggled":r,$(i).hasClass(r)?$(i).removeClass(r):e!==!0?$(i).addClass(r):e=!1,$(window).width()<480&&$("#page-container").removeClass("page-sidebar-toggled")}),$("[data-click=sidebar-toggled]").click(function(a){a.stopPropagation();var i="page-sidebar-toggled",r="#page-container";$(r).hasClass(i)?$(r).removeClass(i):e!==!0?$(r).addClass(i):e=!1,$(window).width()<480&&$("#page-container").removeClass("page-right-sidebar-toggled")})},handleSidebarMinify=function(){$("[data-click=sidebar-minify]").click(function(e){e.preventDefault();var a="page-sidebar-minified",i="#page-container";$('#sidebar [data-scrollbar="true"]').css("margin-top","0"),$("#sidebar [data-scrollbar=true]").stop(),$(i).hasClass(a)?($(i).removeClass(a),$(i).hasClass("page-sidebar-fixed")?(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')),$("#sidebar [data-scrollbar=true]").trigger("mouseover")):/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0!==$("#sidebar .slimScrollDiv").length&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),generateSlimScroll($('#sidebar [data-scrollbar="true"]')))):($(i).addClass(a),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$('#sidebar [data-scrollbar="true"]').css("overflow","visible"):($(i).hasClass("page-sidebar-fixed")&&($('#sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('#sidebar [data-scrollbar="true"]').removeAttr("style")),$("#sidebar [data-scrollbar=true]").trigger("mouseover"))),$(window).trigger("resize")})},handlePageContentView=function(){"use strict";$.when($("#page-loader").addClass("hide")).done(function(){$("#page-container").addClass("in")})},handleSavePanelPosition=function(e){"use strict";if(0!==$(".ui-sortable").length){var a=[],i=0;$.when($(".ui-sortable").each(function(){var e=$(this).find("[data-sortable-id]");if(0!==e.length){var r=[];$(e).each(function(){var e=$(this).attr("data-sortable-id");r.push({id:e})}),a.push(r)}else a.push([]);i++})).done(function(){var i=window.location.href;i=i.split("?"),i=i[0],localStorage.setItem(i,JSON.stringify(a)),$(e).find('[data-id="title-spinner"]').delay(500).fadeOut(500,function(){$(this).remove()})})}},handleIEFullHeightContent=function(){var e=window.navigator.userAgent,a=e.indexOf("MSIE ");(a>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&$('.vertical-box-row [data-scrollbar="true"][data-height="100%"]').each(function(){var e=$(this).closest(".vertical-box-row"),a=$(e).height();$(e).find(".vertical-box-cell").height(a)})},handleMobileSidebar=function(){"use strict";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("#page-container").hasClass("page-sidebar-minified")&&($('#sidebar [data-scrollbar="true"]').css("overflow","visible"),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').slimScroll({destroy:!0}),$('.page-sidebar-minified #sidebar [data-scrollbar="true"]').removeAttr("style"),$(".page-sidebar-minified #sidebar [data-scrollbar=true]").trigger("mouseover"));var e=0;$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").live("touchstart",function(a){var i=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],r=i.pageY;e=r-parseInt($(this).closest("[data-scrollbar=true]").css("margin-top"))}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").live("touchmove",function(a){if(a.preventDefault(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var i=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],r=i.pageY,t=r-e;$(this).closest("[data-scrollbar=true]").css("margin-top",t+"px")}}),$(".page-sidebar-minified .sidebar [data-scrollbar=true] a").live("touchend",function(a){var i=$(this).closest("[data-scrollbar=true]"),r=$(window).height(),t=parseInt($("#sidebar").css("padding-top")),s=$("#sidebar").height();e=$(i).css("margin-top");var n=t;$(".sidebar").not(".sidebar-right").find(".nav").each(function(){n+=$(this).height()});var o=-parseInt(e)+$(".sidebar").height();if(o>=n&&n>=r&&n>=s){var l=r-n-20;$(i).animate({marginTop:l+"px"})}else parseInt(e)>=0||s>=n?$(i).animate({marginTop:"0px"}):(l=e,$(i).animate({marginTop:l+"px"}))})},App=function(){"use strict";return{init:function(){handleSidebarMenu(),handleMobileSidebarToggle(),handleSidebarMinify(),handleMobileSidebar(),handlePageContentView(),handleIEFullHeightContent()}}}();